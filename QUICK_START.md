# Быстрый старт

## Текущее состояние

✅ **Бот полностью готов к работе**

Все компоненты интегрированы и работают:
- Меню ChatGPT с 4 режимами
- Интеграция с Amvera LLM
- Polling режим для Amvera контейнера
- Конфигурация и логирование

## Единственная проблема

⚠️ **Токен Amvera исчерпан (ошибка 402)**

Текущий токен в `.env` больше не работает. Нужно обновить `AMVERA_LLM_TOKEN`.

## Как запустить бота локально

```bash
# 1. Убедитесь, что установлены зависимости
pip install -r requirements.txt

# 2. Запустите бота
python -m src.bot.main
```

Бот будет работать в режиме polling и ждать команд в Telegram.

## Как использовать бота

1. Отправьте команду `/chatgpt`
2. Выберите один из 4 режимов:
   - **Обычный режим** - стандартный ответ ИИ
   - **ASCII-арт** - ответ в виде ASCII символов
   - **Перевод на английский** - перевод текста на английский
   - **Рецепт из холодильника** - рецепты из продуктов
3. Отправьте ваш запрос
4. Получите ответ от ИИ

## Как обновить токен Amvera

1. Получите новый токен на Amvera
2. Откройте файл `.env`
3. Обновите строку:
   ```
   AMVERA_LLM_TOKEN=<новый_токен>
   ```
4. Сохраните файл
5. Перезапустите бота

## Как развернуть на Amvera

1. Убедитесь, что токен обновлен в `.env`
2. Включите приложение на Amvera
3. Бот автоматически запустится в режиме polling
4. Проверьте логи контейнера

## Структура проекта

```
src/bot/
├── main.py                 # Точка входа (polling режим)
├── config.py              # Конфигурация
├── keyboards.py           # Клавиатуры для меню
├── services/
│   └── amvera_llm.py     # Сервис для работы с Amvera LLM
└── routers/
    ├── chatgpt.py        # Обработчики ChatGPT команд
    ├── start.py          # Обработчик /start
    ├── help.py           # Обработчик /help
    └── echo.py           # Echo бот
```

## Команды для тестирования

```bash
# Запуск бота
python -m src.bot.main

# Запуск тестов Amvera LLM
pytest tests/test_amvera_llm_service.py -v

# Проверка конфигурации
python -c "from src.bot.config import load_config; print(load_config())"

# Просмотр последних логов
Get-Content logs/bot.log -Tail 50
```

## Решение проблем

### Ошибка: "Run out of tokens" (402)
- Токен Amvera исчерпан
- Решение: Обновить `AMVERA_LLM_TOKEN` в `.env`

### Ошибка: "Conflict: terminated by other getUpdates request"
- Два экземпляра бота работают одновременно
- Решение: Остановить один из них

### Ошибка: "No module named 'src'"
- Проблема с путем Python
- Решение: Запустить через `python -m src.bot.main`

## Контакты и поддержка

Если возникли проблемы:
1. Проверьте логи: `logs/bot.log`
2. Убедитесь, что токены в `.env` актуальны
3. Проверьте, что только один экземпляр бота работает
